# 1. WordPress Image Configuration
wordpress:
  image: wordpress:latest
  port: 80
  # Admin credentials handled via secrets/Python

# 2. Networking
service:
  type: ClusterIP
  port: 80

ingress:
  enabled: true
  className: "nginx"
  annotations: 
    nginx.ingress.kubernetes.io/proxy-body-size: "64m"
  host: "localhost"

# 3. Database (Bitnami MariaDB)
mariadb:
  enabled: true
  image:
    tag: "latest"
  auth:
    username: "urumi_user"
    database: "urumi_store"
    # Passwords injected by Python
  primary:
    persistence:
      enabled: false # Default local
    # FIX: Pass resources to MariaDB so Quota accepts it
    resources:
      requests:
        cpu: 250m
        memory: 256Mi
      limits:
        cpu: 500m
        memory: 512Mi

# 4. Resource Profiles (The Fix for Quotas & Performance)
resources:
  # Tiny: For Init Containers (run once, then die)
  # High CPU limit to unzip fast!
  init:
    requests:
      cpu: "50m"
      memory: "64Mi"
    limits:
      cpu: "1000m" 
      memory: "256Mi"
  
  # Small: For Sidecars (WP-CLI)
  # High CPU limit so it installs fast without starving WordPress
  sidecar:
    requests:
      cpu: "50m"
      memory: "128Mi"
    limits:
      cpu: "1000m"
      memory: "512Mi"

  # Medium: For the Main WordPress App
  main:
    requests:
      cpu: "250m"
      memory: "256Mi"
    limits:
      cpu: "1000m" 
      memory: "512Mi"